# Example Python script with nornir_pygnmi: gnmi_get task.
## Disclaimer
Please, first of all [read the main README.md explaining the overall concept](https://github.com/akarneliuk/nornir_pygnmi/blob/main/examples/README.md).

## Script
The following script is provided for demonstation purpose without any liability on as-is basis. It was successfully run again Cisco NX-OS 9.3.9 (leveraging Cisco Nexus 9000v).
```python
# Modules
import datetime
from nornir.init_nornir import InitNornir
from nornir_utils.plugins.functions import print_result
from nornir_pygnmi.tasks import gnmi_get


# Statics
NORNIR_CONFIG = "./config.yaml"
PATH = ["/System/intf-items/phys-items/PhysIf-list[id=eth1/4]/"]


# Body
if __name__ == "__main__":
    # Get initial timestamp
    start_time = datetime.datetime.now()
    print(f"Execition started at {start_time}")

    # Initialise Nornir
    nrn = InitNornir(config_file=NORNIR_CONFIG)

    # Perform action
    result2 = nrn.run(task=gnmi_get, path=PATH)
    print_result(result2)

    # Get final timestamp
    end_time = datetime.datetime.now()
    print(f"Execution took {end_time - start_time} and completed at {end_time}")
```

## Example of execution
This the output of the execution
```
# python main.py 
Execition started at 2022-08-09 17:45:40.971407
Cannot get Subject Alternative Names: No <ObjectIdentifier(oid=2.5.29.17, name=subjectAltName)> extension was found
ssl_target_name_override is applied, should be used for testing only!
gnmi_get************************************************************************
* c-1-s1 ** changed : False ****************************************************
vvvv gnmi_get ** changed : False vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv INFO
{ 'notification': [ { 'alias': None,
                      'atomic': False,
                      'prefix': None,
                      'timestamp': 1660066580830127019,
                      'update': [ { 'path': 'System/intf-items/phys-items/PhysIf-list[id=eth1/4]',
                                    'val': [ { 'FECMode': 'auto',
                                               'accessVlan': 'vlan-1',
                                               'adminSt': 'up',
                                               'aggrmbrif-items': { 'bdlPortNum': 0,
                                                                    'channelingSt': 'channeling',
                                                                    'flags': '',
                                                                    'ltlProgrammed': True,
                                                                    'operSt': 'up',
                                                                    'summOperSt': 'up',
                                                                    'uptime': '213523193:04:18:57.695'},
                                               'autoNeg': 'on',
                                               'beacon': 'off',
                                               'bw': 0,
                                               'controllerId': '',
                                               'dbgDot3Stats-items': { 'alignmentErrors': '0',
                                                                       'babble': '0',
                                                                       'carrierSenseErrors': '0',
                                                                       'controlInUnknownOpcodes': '0',
                                                                       'deferredTransmissions': '0',
                                                                       'excessiveCollisions': '0',
                                                                       'fCSErrors': '0',
                                                                       'frameTooLongs': '0',
                                                                       'inPauseFrames': '0',
                                                                       'inputdribble': '0',
                                                                       'internalMacReceiveErrors': '0',
                                                                       'internalMacTransmitErrors': '216172782717770496',
                                                                       'lateCollisions': '0',
                                                                       'lostCarrierErrors': '0',
                                                                       'multipleCollisionFrames': '0',
                                                                       'noCarrierErrors': '0',
                                                                       'outPauseFrames': '0',
                                                                       'runts': '0',
                                                                       'sQETTestErrors': '0',
                                                                       'singleCollisionFrames': '0',
                                                                       'symbolErrors': '0'},
                                               'dbgEtherStats-items': { 'broadcastPkts': '0',
                                                                        'cRCAlignErrors': '0',
                                                                        'collisions': '0',
                                                                        'dropEvents': '0',
                                                                        'fragments': '0',
                                                                        'ifdowndrop': '0',
                                                                        'ignored': '0',
                                                                        'jabbers': '0',
                                                                        'multicastPkts': '1063950',
                                                                        'octets': '111666143',
                                                                        'overrun': '0',
                                                                        'oversizePkts': '0',
                                                                        'pkts': '1065381',
                                                                        'pkts1024to1518Octets': '82',
                                                                        'pkts128to255Octets': '90428',
                                                                        'pkts1519to1548Octets': '0',
                                                                        'pkts256to511Octets': '16398',
                                                                        'pkts512to1023Octets': '16796',
                                                                        'pkts64Octets': '114390',
                                                                        'pkts65to127Octets': '381677',
                                                                        'rXNoErrors': '57787',
                                                                        'rxOversizePkts': '0',
                                                                        'rxPkts1024to1518Octets': '0',
                                                                        'rxPkts128to255Octets': '0',
                                                                        'rxPkts1519to1548Octets': '0',
                                                                        'rxPkts256to511Octets': '11295',
                                                                        'rxPkts512to1023Octets': '0',
                                                                        'rxPkts64Octets': '0',
                                                                        'rxPkts65to127Octets': '17589',
                                                                        'tXNoErrors': '1007594',
                                                                        'txOversizePkts': '0',
                                                                        'txPkts1024to1518Octets': '82',
                                                                        'txPkts128to255Octets': '90428',
                                                                        'txPkts1519to1548Octets': '0',
                                                                        'txPkts256to511Octets': '5103',
                                                                        'txPkts512to1023Octets': '16796',
                                                                        'txPkts64Octets': '114390',
                                                                        'txPkts65to127Octets': '364088',
                                                                        'underrun': '0',
                                                                        'undersizePkts': '0',
                                                                        'watchdog': '0'},
                                               'dbgIfHCIn-items': { 'broadcastPkts': '0',
                                                                    'multicastPkts': '57781',
                                                                    'octets': '10055204',
                                                                    'ucastPkts': '6'},
                                               'dbgIfHCOut-items': { 'broadcastPckts': '0',
                                                                     'broadcastPkts': '0',
                                                                     'multicastPkts': '1006169',
                                                                     'octets': '101610939',
                                                                     'ucastPkts': '1425'},
                                               'dbgIfIn-items': { 'broadcastPkts': '0',
                                                                  'discards': '0',
                                                                  'errors': '0',
                                                                  'multicastPkts': '57781',
                                                                  'nUcastPkts': '57781',
                                                                  'noBuffer': '0',
                                                                  'octetRate': '39',
                                                                  'octets': '10055204',
                                                                  'packetRate': '0',
                                                                  'rateInterval': 300,
                                                                  'ucastPkts': '6',
                                                                  'unknownEtype': '0',
                                                                  'unknownProtos': '0'},
                                               'dbgIfOut-items': { 'broadcastPkts': '0',
                                                                   'discards': '0',
                                                                   'errors': '216172782717770496',
                                                                   'multicastPkts': '1006169',
                                                                   'nUcastPkts': '1006169',
                                                                   'octetRate': '427',
                                                                   'octets': '101610939',
                                                                   'packetRate': '3',
                                                                   'qLen': '0',
                                                                   'rateInterval': 300,
                                                                   'ucastPkts': '1425'},
                                               'delay': 1,
                                               'dfeAdaptiveTuning': 'enable',
                                               'dfeTuningDelay': 100,
                                               'dot1qEtherType': 33024,
                                               'duplex': 'auto',
                                               'eeep-items': { 'eeeLat': 'variable',
                                                               'eeeLpi': 'aggressive',
                                                               'eeeState': 'not-applicable'},
                                               'hwifdetails-items': { 'asic': 0,
                                                                      'macBlockNum': 0,
                                                                      'sPort': 0,
                                                                      'slice': 0,
                                                                      'vif': 1537},
                                               'id': 'eth1/4',
                                               'inhBw': 4294967295,
                                               'layer': 'Layer2',
                                               'linkDebounce': 100,
                                               'linkDebounceLinkUp': 0,
                                               'linkLog': 'default',
                                               'linkLoopback': 'disable',
                                               'linkMacUpTimer': 0,
                                               'linkMacUpTimerMax': 0,
                                               'linkTransmitReset': 'enable',
                                               'loadp-items': { 'loadIntvl1': 30,
                                                                'loadIntvl2': 300,
                                                                'loadIntvl3': 0},
                                               'mdix': 'auto',
                                               'mediaType': 'none',
                                               'medium': 'broadcast',
                                               'mode': 'trunk',
                                               'mtu': 1500,
                                               'nativeVlan': 'vlan-1',
                                               'packetTimestampEgressSourceId': 0,
                                               'packetTimestampIngressSourceId': 0,
                                               'packetTimestampState': 'disable',
                                               'phys-items': { 'accessVlan': 'vlan-1',
                                                               'adminSt': 'up',
                                                               'allowedVlans': '1-2,1001-1002',
                                                               'backplaneMac': '7A:17:6B:1F:01:04',
                                                               'bundleBupId': 4,
                                                               'bundleIndex': 'po1',
                                                               'cachedUserCfgdFlags': 'admin_layer,admin_state',
                                                               'cfgAccessVlan': 'vlan-1',
                                                               'cfgNativeVlan': 'vlan-1',
                                                               'currErrIndex': 0,
                                                               'diags': 'none',
                                                               'dynamicVlan': False,
                                                               'encap': 3,
                                                               'errDisTimerRunning': False,
                                                               'errVlans': '',
                                                               'fcot-items': { 'baseResvd1': 0,
                                                                               'baseResvd2': 0,
                                                                               'baseResvd3': 0,
                                                                               'baseResvd4': '0,0,0',
                                                                               'brIn100MHz': 0,
                                                                               'brMaxMargin': 0,
                                                                               'brMinMargin': 0,
                                                                               'ccex': 0,
                                                                               'ccid': 0,
                                                                               'connectType': 0,
                                                                               'dateCode': '',
                                                                               'description': '',
                                                                               'diagMonType': 0,
                                                                               'distIn100mFor9u': 0,
                                                                               'distIn10mFor50u': 0,
                                                                               'distIn10mFor60u': 0,
                                                                               'distIn1mForCu': 0,
                                                                               'distInKmFor9u': 0,
                                                                               'encoding': 0,
                                                                               'enhOption': 0,
                                                                               'extOption': '0,0',
                                                                               'fCTxType': 0,
                                                                               'fcotNum': 0,
                                                                               'fcotType': 0,
                                                                               'flags': 'unknown',
                                                                               'gigEthCC': 0,
                                                                               'isFcotPresent': False,
                                                                               'maxSpeed': 6,
                                                                               'minSpeed': 6,
                                                                               'partNumber': '',
                                                                               'sff8472Compl': 0,
                                                                               'state': 'unknown',
                                                                               'transceiverType': 'copper',
                                                                               'type': 'unknown',
                                                                               'typeName': 'unknown',
                                                                               'vendorData': '0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0',
                                                                               'vendorId': '0,0,0',
                                                                               'vendorName': '',
                                                                               'vendorPn': '',
                                                                               'vendorRev': '',
                                                                               'vendorSn': '',
                                                                               'versionId': '',
                                                                               'xcvrCode': '0,0,0,0,0,0,0,0',
                                                                               'xcvrExtId': 0,
                                                                               'xcvrId': 0},
                                                               'gport': 134219780,
                                                               'ifIndex': 436209152,
                                                               'intf': 'present',
                                                               'intfT': 'phy',
                                                               'iod': '14',
                                                               'lastErrors': '1093795867,0,0,0',
                                                               'lastLinkStChg': '2022-08-06T20:17:10.230+00:00',
                                                               'media': 2,
                                                               'nativeVlan': 'vlan-1',
                                                               'numOfSI': 0,
                                                               'operAutoNeg': 'on',
                                                               'operBitset': '2-4,35',
                                                               'operDceMode': 'edge',
                                                               'operDescr': '',
                                                               'operDuplex': 'full',
                                                               'operEEERxWkTime': 0,
                                                               'operEEEState': 'not-applicable',
                                                               'operEEETxWkTime': 0,
                                                               'operErrDisQual': 'up',
                                                               'operFECMode': 'auto',
                                                               'operFlowCtrl': '',
                                                               'operLinkDebounce': 100,
                                                               'operMdix': 'auto',
                                                               'operMode': 'trunk',
                                                               'operMtu': 1500,
                                                               'operPhyEnSt': 'unknown',
                                                               'operRouterMac': '7A:17:6B:1F:1B:08',
                                                               'operSpeed': '1G',
                                                               'operSt': 'up',
                                                               'operStQual': 'none',
                                                               'operStQualCode': 0,
                                                               'operTrunkStatus': 'trunk-bundle',
                                                               'operVlans': '1-2,1001-1002',
                                                               'portCfgWaitFlags': 0,
                                                               'portcap-items': { 'autoneg': 1,
                                                                                  'channel': 1,
                                                                                  'cosRewrite': 1,
                                                                                  'ctsCapable': 31,
                                                                                  'duplex': 'full',
                                                                                  'eeeCapVal': 0,
                                                                                  'eeeFlapFlags': 0,
                                                                                  'eeeWakeTimes10g': '0,0,0',
                                                                                  'fcotCapable': 0,
                                                                                  'id': 'unspecified',
                                                                                  'linkDebounce': 1,
                                                                                  'linkDebounceTime': 50,
                                                                                  'mdix': 0,
                                                                                  'model': '103,98,105,99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0',
                                                                                  'portCap': 167772160,
                                                                                  'portGroup': 255,
                                                                                  'portGrpMbrs': '',
                                                                                  'protoSupport': 16777235,
                                                                                  'qosRxPrio': 0,
                                                                                  'qosRxQueue': 8,
                                                                                  'qosRxThold': 2,
                                                                                  'qosTxPrio': 1,
                                                                                  'qosTxQueue': 7,
                                                                                  'qosTxThold': 4,
                                                                                  'rateMode': 1,
                                                                                  'rxFlowControl': 3,
                                                                                  'span': 1,
                                                                                  'speed': '100,1000,10000',
                                                                                  'suppression': 1,
                                                                                  'tosRewrite': 1,
                                                                                  'trunkEncap': 1,
                                                                                  'txFlowControl': 3,
                                                                                  'type': '49,48,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0',
                                                                                  'udld': 1},
                                                               'primaryVlan': 'vlan-1',
                                                               'resetCtr': 1,
                                                               'shareState': 'dedicated',
                                                               'siList': '',
                                                               'txT': 'unknown',
                                                               'usage': '',
                                                               'userCfgdFlags': 'admin_layer,admin_state',
                                                               'vdcId': 1},
                                               'physExtd-items': { 'allowMultiTag': 'disable',
                                                                   'autoExcludeVlans': '',
                                                                   'bufferBoost': 'enable',
                                                                   'chassisModuleSide': 'UnknownSlot',
                                                                   'chassisNumber': 0,
                                                                   'flowCtrlReceive': False,
                                                                   'flowCtrlSend': False,
                                                                   'id': 'eth1/4',
                                                                   'portTypeFabric': 'no',
                                                                   'routerMacIpv6Extract': 'disable',
                                                                   'shutDownLan': 'disable',
                                                                   'stormCtrlBCastLevel': '100.0',
                                                                   'stormCtrlBCastPPS': 4294967295,
                                                                   'stormCtrlMCastLevel': '100.0',
                                                                   'stormCtrlMCastPPS': 4294967295,
                                                                   'stormCtrlUCastLevel': '100.0',
                                                                   'stormCtrlUCastPPS': 4294967295,
                                                                   'switchportIsolated': 'disable',
                                                                   'switchportMacLearn': 'enable',
                                                                   'switchportVirtualEthernetBridge': 'disable'},
                                               'portT': 'leaf',
                                               'routerMac': '00:00:00:00:00:00',
                                               'rtioPPhysConf-items': { 'tDn': "/System/ch-items/lcslot-items/LCSlot-list[id='1']/lc-items/leafport-items/LeafP-list[id='4']"},
                                               'rtl2EthIf-items': { 'RtL2EthIf-list': [ { 'tDn': "/System/cdp-items/inst-items/if-items/If-list[id='eth1/4']"},
                                                                                        { 'tDn': "/System/lacp-items/inst-items/if-items/If-list[id='eth1/4']"},
                                                                                        { 'tDn': "/System/stp-items/inst-items/if-items/If-list[id='eth1/4']"}]},
                                               'rtmbrIfs-items': { 'tDn': "/System/intf-items/aggr-items/AggrIf-list[id='po1']"},
                                               'snmpTrapSt': 'enable',
                                               'spanMode': 'not-a-span-dest',
                                               'speed': 'auto',
                                               'speedGroup': 'auto',
                                               'stormctrlp-items': { 'burstPps': 4294967295,
                                                                     'burstRate': '100.0',
                                                                     'rate': '100.0',
                                                                     'ratePps': 4294967295,
                                                                     'type': 'all'},
                                               'switchingSt': 'disabled',
                                               'trunkLog': 'default',
                                               'trunkVlans': '1-4094',
                                               'uniDirectionalEthernet': 'disable',
                                               'usage': 'discovery',
                                               'userCfgdFlags': 'admin_layer,admin_state',
                                               'voicePortCos': -1,
                                               'voicePortTrust': -1,
                                               'voiceVlanId': 0,
                                               'voiceVlanType': 'none'}]}]}]}
^^^^ END gnmi_get ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Execution took 0:00:00.396839 and completed at 2022-08-09 17:45:41.368246
```